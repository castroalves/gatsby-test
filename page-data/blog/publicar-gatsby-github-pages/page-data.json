{"componentChunkName":"component---src-templates-blog-post-js","path":"/blog/publicar-gatsby-github-pages","webpackCompilationHash":"4b9549c6065d6be02e00","result":{"data":{"markdownRemark":{"html":"<p>Um dos meus maiores desafios ultimamente tem sido fazer sites mais rápidos. Embora o <a href=\"https://blastmkt.com\">site da minha agência</a> e dos meus clientes estejam em servidores VPS e usem diversos plugins otimizar a performance, eu ainda sinto que seja possível melhorar a velocidade deles.</p>\n<p>Há alguns meses eu comecei a pesquisar sobre headless CMS e geradores de sites estáticos e me deparei com o Gatsby. Desde então, tenho lido dezenas de artigos e tutoriais, e vários vídeos no YouTube. </p>\n<p>A performance e a experiência dos sites feitos em Gatsby são realmente impressionantes. Por isso, decidi colocar a mão-na-massa para aprender como funciona e escrever esse tutorial.</p>\n<p>A propósito, este é o meu primeiro site feito em Gatsby. :)</p>\n<h2>O que é o GastbyJS</h2>\n<p>O <a href=\"https://gastbyjs.org\">Gatsby</a> é um framework gratuito e open source baseado em React para construção de sites estáticos e super rápidos.</p>\n<p>Um site estático é uma página feita em HTML, CSS, JavaScript e imagens. Não tem linguagem de programação para processar a página nem banco de dados.</p>\n<h2>Sites Estáticos vs Sites Dinâmicos</h2>\n<p>Sites dinâmicos são aqueles que precisam de uma linguagem de programação para processar as páginas e um banco de dados para armazenar informações.</p>\n<p>Sites feitos em WordPress são bons exemplos de sites dinâmicos, pois precisam de servidor nginx ou Apache, PHP e banco de dados MariaDB (ou MySQL) para funcionar.</p>\n<p>Já os sites feitos em Gatsby você não precisa de nada disso. Por isso, eles são chamados de sites estáticos.</p>\n<p>Como não há processamento de servidor e nem consultas de bancos de dados, sites estáticos são muito mais rápidos do que os dinâmicos.</p>\n<p>Inclusive, uma das principais técnicas usadas para tornar sites dinâmicos mais rápidos é justamente criar páginas estáticas, mas isso é assunto para outro artigo.</p>\n<h2>Hospedagem gratuita para Gatsby</h2>\n<p>Como o Gatsby não necessita processar linguagens de programação nem banco de dados, você pode publicar o site em qualquer servidor.</p>\n<p>A melhor e mais fácil opção, na minha opinião, é o <a href=\"https://help.github.com/articles/what-is-github-pages/\">GitHub Pages</a>, o serviço de hospedagem do GitHub, que possui a seguinte configuração:</p>\n<ul>\n<li>1 GB de espaço em disco</li>\n<li>100 GB por mês de transferência</li>\n<li>Arquivos de até 50 MB (cada)</li>\n<li>Domínio personalizado (seusite.com)</li>\n</ul>\n<p>Ele é utilizado por empresas como IBM, Microsoft, Twitter e Facebook, além de diversos projetos open source.</p>\n<h2>Primeiros Passos com Gatsby</h2>\n<p>Para hospedar um site feito em Gatsby no GitHub Pages, você vai precisar:</p>\n<ol>\n<li>Gatsby CLI: recomendo que você leia esses <a href=\"https://www.gatsbyjs.org/docs/quick-start/\">primeiros passos</a> (em inglês).</li>\n<li>Um site feito em Gatsby: se você quiser aprender (como eu), escolha um tema gratuito na galeria de <a href=\"https://www.gatsbyjs.org/starters/?v=2\">Gatsby Starters</a>. Eu estou usando o <a href=\"https://www.gatsbyjs.org/starters/niklasmtj/gatsby-starter-julia/\">gatsby-starter-julia</a>.</li>\n<li><a href=\"https://github.com/tschaub/gh-pages\">gh-pages</a>: um pacote que vai te ajudar a publicar seu site no GitHub</li>\n<li>Uma conta no <a href=\"https://github.com\">GitHub</a></li>\n</ol>\n<h2>Instalando o Gatsby CLI</h2>\n<p>Para instalar o Gatsby CLI, basta executar o seguinte comando no terminal (requer o npm):</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-shell line-numbers\"><code class=\"language-shell\"><span class=\"token function\">npm</span> <span class=\"token function\">install</span> -g gatsby-cli</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<h2>Criando um site em Gatsby no seu computador</h2>\n<p>Para criar um site em Gastby, basta executar o seguinte comando no terminal:</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-shell line-numbers\"><code class=\"language-shell\">gastby new meu-site-gatsby</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<p>Mas se você quiser começar com um tema pronto, como o <a href=\"https://www.gatsbyjs.org/starters/niklasmtj/gatsby-starter-julia/\">Julia</a>, execute o seguinte comando no terminal:</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-shell line-numbers\"><code class=\"language-shell\">gatsby new gatsby-starter-julia https://github.com/niklasmtj/gatsby-starter-julia</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<p>Para rodar o site na sua máquina, entre na pasta do projeto:</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-shell line-numbers\"><code class=\"language-shell\"><span class=\"token builtin class-name\">cd</span> gatsby-starter-julia</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<p>Em seguida, execute o seguinte comando:</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-shell line-numbers\"><code class=\"language-shell\">gatsby develop</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<p>Esse comando vai iniciar seu site por padrão no endereço <code class=\"language-text\">localhost:8000</code>.</p>\n<h2>Publicar o Gatsby no GitHub Pages</h2>\n<p>Primeiro, você precisa adicionar os arquivos do seu site ao GitHub.</p>\n<p>No terminal, execute o seguinte comando na raiz do seu projeto:</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-shell line-numbers\"><code class=\"language-shell\"><span class=\"token function\">git</span> init</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<p>Depois, adicione todos os arquivos ao seu repositório local:</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-shell line-numbers\"><code class=\"language-shell\"><span class=\"token function\">git</span> <span class=\"token function\">add</span> <span class=\"token builtin class-name\">.</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<p>Agora, faça o commit dos arquivos:</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-shell line-numbers\"><code class=\"language-shell\"><span class=\"token function\">git</span> commit -m <span class=\"token string\">'Meu primeiro commit'</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<p>Por fim, conecte seu repositório local com o repositório remoto no GitHub:</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-shell line-numbers\"><code class=\"language-shell\"><span class=\"token function\">git</span> remote <span class=\"token function\">add</span> origin https://github.com/suaconta/seu-repo.git</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<p>O próximo passo é instalar o pacote <strong>gh-pages</strong> no seu projeto. Para isso, abra o terminal novamente e execute o comando abaixo:</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-shell line-numbers\"><code class=\"language-shell\"><span class=\"token function\">npm</span> <span class=\"token function\">install</span> gh-pages --save-dev</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<p>Caso você vá publicar seu site numa sub-pasta de sua conta GitHub, como por exemplo <code class=\"language-text\">suaconta.github.io/meu-site</code>, abra o arquivo <code class=\"language-text\">gatsby-config.js</code> e adicione a seguinte configuração:</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-javascript line-numbers\"><code class=\"language-javascript\">module<span class=\"token punctuation\">.</span>exports <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  pathPrefix<span class=\"token punctuation\">:</span> <span class=\"token string\">\"/meu-site\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span></span></pre></div>\n<p>Depois, adicione um script de deploy no arquivo <code class=\"language-text\">package.json</code>:</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-javascript line-numbers\"><code class=\"language-javascript\"><span class=\"token punctuation\">{</span>\n  <span class=\"token string\">\"scripts\"</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token string\">\"deploy:github\"</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"gatsby build --prefix-paths &amp;&amp; gh-pages -d public -b master\"</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>Por fim, execute o seguinte comando no terminal:</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-shell line-numbers\"><code class=\"language-shell\"><span class=\"token function\">npm</span> run deploy:github</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<p>Quando você rodar esse comando, todo o conteúdo da pasta <code class=\"language-text\">public</code> será publicado no branch <code class=\"language-text\">master</code> do seu repositório no GitHub.</p>\n<h2>Configurar seu site no GitHub Pages</h2>\n<p>Para que seu site funcione, você deve configurar o branch onde seus arquivos foram publicados (no caso deste tutorial, estamos usando o branch <code class=\"language-text\">master</code>).</p>\n<ol>\n<li>Navegue até o site do seu repositório no GitHub;</li>\n<li>Depois, clique em <strong>Configurações</strong>;</li>\n<li>Na seção <strong>GitHub Pages</strong>, clique no dropdown e selecione o branch <code class=\"language-text\">master</code>;</li>\n<li>Por fim, clique em <strong>Salvar</strong>.</li>\n</ol>\n<p>Pronto! Para ver o seu site no ar, basta acessar o endereço exibido na mensagem de sucesso.</p>\n<p>Se você quiser uma referência, você pode dar uma olhada nos <a href=\"https://github.com/castroalves/gatsby-test\">arquivos desse site</a> no repositório do GitHub.</p>","excerpt":"Um dos meus maiores desafios ultimamente tem sido fazer sites mais rápidos. Embora o site da minha agência e dos meus clientes estejam em servidores VPS e usem…","frontmatter":{"date":"20 November, 2019","path":"/blog/publicar-gatsby-github-pages","title":"Publicar sites Gatsby no Github Pages"},"fields":{"readingTime":{"text":"5 min read"}}}},"pageContext":{"isCreatedByStatefulCreatePages":false}}}